<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0073)file:///C:/Users/Administrator/AppData/Local/Temp/MarkdownPadPreview.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>æ¶æ„å¸ˆå¯è’™è¯¾ä¸€</title>

<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
<!--<base href="file:\\\C:\Users\Administrator\Desktop\">--><base href=".">
</head>
<body>
<h1>æ¶æ„å¸ˆå¯è’™è¯¾ç¬¬ä¸€èŠ‚</h1>
<h2>å•é¢å’Œå¤šé¡µï¼š</h2>
<p>å•é¡µå°±æ˜¯ä¸€ä¸ªhtmlå¸¦ä¸€å †jsï¼Œspa</p>
<p>å¤šé¡µå°±æ˜¯ä¸€å †htmlå¸¦ä¸€å †js,mpa</p>
<p>å‰ç«¯æ²¡æœ‰è·¯ç”±ï¼Œå‰ç«¯çš„è·¯ç”±éƒ½æ˜¯å‡çš„ï¼Œç°åœ¨çš„ä¸‰å¤§æ¡†æ¶éƒ½æ˜¯å•é¡µåº”ç”¨ ã€‚</p>
<h2>ä»£ç æµç¨‹:</h2>
<ol>
<li>åˆ›å»ºé¡¹ç›®ç›®å½•</li>
<li>
<p>åˆå§‹åŒ–é¡¹ç›®ç›®å½•</p>
<pre><code>npm init
</code></pre>

</li>
<li>
<p>å®‰è£…webpack</p>
<pre><code>npm install webpack --save-dev
npm install webpack-cli --save-dev
-devçš„æ„æ€æ˜¯ï¼šæµ‹è¯•ç¯å¢ƒï¼Œå¦‚æœä¸Šçº¿ç¯å¢ƒéœ€è¦è¿™ä¸ªåŒ…ï¼Œå°±å»æ‰-dev
</code></pre>

</li>
<li>æ ¹ç›®å½•ä¸‹åˆ›å»ºsrcç›®å½•ï¼Œé‡Œé¢åˆ›å»ºindex.htmlå’Œindex.jsæ–‡ä»¶ã€‚</li>
<li>
<p>åœ¨index.htmlä¸­ï¼Œå†™ä¸€ä¸ªidä¸ºappçš„divæ ‡ç­¾</p>
<pre><code>&lt;div id = "app"&gt;&lt;/div&gt;
</code></pre>

</li>
<li>
<p>é…ç½®package.jsonæ–‡ä»¶ï¼Œåœ¨scriptså­—æ®µä¸‹æ·»åŠ é…ç½®ä»£ç </p>
<pre><code>"dev":"webpack --mode development",
"prod":"webpack --mode production"
</code></pre>

</li>
<li>
<p>åœ¨index.jsä¸­æ‰“å°ä¸€å¥è¯ï¼š</p>
<pre><code>console.log("hello world");
</code></pre>

</li>
<li>ç»ˆç«¯æ‰§è¡Œnpm run dev,å¯ä»¥çœ‹åˆ°webpackå·²ç»ç”Ÿæˆdistç›®å½•ï¼Œå¹¶ç¼–è¾‘å¥½äº†main.jsã€‚</li>
<li>åœ¨index.htmlä¸­å¼•å…¥main.jsï¼Œå¹¶åœ¨æµè§ˆå™¨æ‰“å¼€ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨æ§åˆ¶å°çœ‹è§é¡µé¢å·²ç»æˆåŠŸçš„æ‰§è¡Œäº†ç¼–è¾‘åçš„jsæ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬æ‰§è¡Œnpm run prodï¼Œå°±ä¼šç¼–è¾‘ä¸Šçº¿ç¯å¢ƒçš„ä»£ç ï¼Œä¼šçœ‹åˆ°main.jsä¼šè¢«å‹ç¼©æˆäº†ä¸€è¡Œäº†ã€‚</li>
<li>
<p>å®‰è£…html-webpack-plugin</p>
<pre><code>npm i --save-dev html-webpack-plugin
</code></pre>

</li>
<li>
<p>é…ç½®webpackï¼Œæ ¹ç›®å½•ä¸‹åˆ›å»ºwebpack.config.jsï¼Œå¹¶åœ¨é‡Œé¢æ·»åŠ ä¸Šé…ç½®ä»£ç ï¼š</p>
<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  new HtmlWebpackPlugin({  // Also generate a test.html
       filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
       template: 'src/index.html'//é¡µé¢è·¯å¾„
  }) 
ï½
</code></pre>

</li>
<li>
<p>æ‰§è¡Œnpm run dev å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„distç›®å½•é‡Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯Index.htmlä¸€ä¸ªæ˜¯main.jsã€‚æˆ‘ä»¬å°†index.htmlåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œå‘ç°å·²ç»æˆåŠŸæ‰§è¡Œã€‚ï¼ˆæ³¨æ„ï¼Œsrcä¸‹çš„htmlæ–‡ä»¶ä¸­ï¼Œä¸éœ€è¦å¼•ç”¨index.jsï¼‰</p>
</li>
<li>åœ¨srcç›®å½•ä¸‹æ–°å»ºcomponentsæ–‡ä»¶å¤¹ï¼Œåœ¨componentsç›®å½•ä¸‹åˆ›å»ºsyncç›®å½•ï¼Œå¹¶åœ¨syncç›®å½•ä¸‹æ–°å»ºindex.js(ä¸€å®šä¸è¦å»ºæˆsync.jsï¼Œä¼šæœ‰æ„æƒ³ä¸åˆ°çš„éº»çƒ¦)å’Œsync.css</li>
<li>
<p>åœ¨sync.jsä¸­å†™å…¥ä»£ç :</p>
<pre><code>const sync = () =&gt; {
    console.log("this is sync");
}
export {
    sync
}
</code></pre>

</li>
<li>
<p>åœ¨srcç›®å½•ä¸‹çš„index.jsè¿™ä¸ªä¸»jsæ–‡ä»¶ä¸­ï¼Œå¼•å…¥æš´éœ²çš„syncæ¥å£ã€‚</p>
<pre><code>import {sync} from "./components/sync";//ES6è§£æ„
sync();
</code></pre>

</li>
<li>é‡æ–°æ‰§è¡Œnpm run devåï¼Œåˆ·æ–°index.htmlï¼Œä¼šçœ‹åˆ°æ§åˆ¶å°å·²ç»æˆåŠŸæ‰“å°ä¿¡æ¯ã€‚</li>
<li>webpacké»˜è®¤æ”¯æŒç¼–è¾‘jsï¼Œå¦‚æœæ˜¯csså’Œhtmlå°±è¿˜éœ€è¦é‡æ–°é…ç½®ã€‚</li>
<li>
<p>å®‰è£…æ”¯æŒcssæ ·å¼çš„åŒ…ã€‚</p>
<pre><code>npm install style-loader --save-dev
npm install css-loader --save-dev
</code></pre>

</li>
<li>
<p>é…ç½®webpack.config.jsæ–‡ä»¶</p>
<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
    module:{
        rules: [
            {
              test: /\.css$/,
              use: [ "style-loader", {
                loader: 'css-loader',
                options: {
                  modules: true,
                  localIdentName: '[path][name]__[local]--[hash:base64:5]'
                }
              } ]
            }
        ]
    },
    plugins: [
      new HtmlWebpackPlugin({  // Also generate a test.html
        filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
        template: 'src/index.html'//é¡µé¢è·¯å¾„
    })  
  ]
}
</code></pre>

</li>
<li>
<p>åœ¨syncç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ä¸­ï¼Œå¯¼å…¥main.cssã€‚ï¼ˆsyncç›®å½•ä¸‹çš„jsæ–‡ä»¶ï¼Œä¸€å®šä¸èƒ½å†™æˆsync.jsã€‚ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚ï¼‰</p>
<pre><code>import item from "./sync.css";
document.getElementById("app").innerHTML=`&lt;h1 class="${item.test}"&gt;å¤§å®¶å¥½æ‰æ˜¯çœŸçš„å¥½&lt;/h1&gt;`;
const sync = () =&gt; {
    console.log("sync");
}
export {
    sync
};
</code></pre>

</li>
<li>æ‰§è¡Œnpm run devã€‚åˆ·æ–°é¡µé¢ï¼Œçœ‹åˆ°æ ·å¼å·²ç»å¼•å…¥åˆ°äº†é¡µé¢ä¸­ã€‚</li>
<li>å®ç°å‰ç«¯å·¥ç¨‹åŒ–ï¼Œéœ€è¦åŒºåˆ†å¼€å‘ç¯å¢ƒå’Œä¸Šçº¿ç¯å¢ƒï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºconfigæ–‡ä»¶å¤¹,å¹¶åœ¨é‡Œé¢åˆ›å»ºå¼€å‘è·¯ç”±webpack.development.jså’Œä¸Šçº¿è·¯ç”±webpack.production.js</li>
<li>
<p>å®‰è£…åˆ¤æ–­å¼€å‘ç¯å¢ƒè¿˜æ˜¯ä¸Šçº¿ç¯å¢ƒyargs-parserå’Œåˆå¹¶jsçš„webpack-merge</p>
<pre><code>npm i yargs-parser --save-dev
npm install webpack-merge --save-dev
</code></pre>

</li>
<li>
<p>webpack.config.jsä¸­ä½¿ç”¨yargså’Œå…³è”configæ–‡ä»¶å¤¹ä¸‹çš„ä¸¤ä¸ªè·¯ç”±æ–‡ä»¶ã€‚å¯¼å…¥mergeï¼Œå¹¶å¯¹å¤–æš´éœ²å‡ºå»ã€‚</p>
<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin')
const argv = require('yargs-parser')(process.argv.slice(2))
//console.log("è¿™æ˜¯å¾—åˆ° çš„"+argv)
const _mode = argv.mode || "development";
const _mergeConfig = require(`./config/webpack.${_mode}.js`);
const merge = require('webpack-merge');
let webpackConfig = {
    module:{
        rules: [
            {
              test: /\.css$/,
              use: [ "style-loader", {
                loader: 'css-loader',
                options: {
                  modules: true,
                  localIdentName: '[path][name]__[local]--[hash:base64:5]'
                }
              } ]
            }
        ]
    },
    plugins: [
      new HtmlWebpackPlugin({  // Also generate a test.html
        filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
        template: 'src/index.html'//é¡µé¢è·¯å¾„
    })  
  ]
}
module.exports = merge(_mergeConfig,webpackConfig);
</code></pre>

</li>
<li>
<p>è¿è¡Œnpm run devï¼Œæ­£å¸¸æ‰§è¡Œï¼Œè¿è¡Œnpm run prodä¹Ÿèƒ½æ­£å¸¸æ‰§è¡Œã€‚</p>
</li>
<li>
<p>å°†cssä»jsä¸­æå–å‡ºæ¥ï¼Œå®‰è£…mini-css-extract-plugin</p>
<pre><code>npm install mini-css-extract-plugin --save-dev
</code></pre>

</li>
<li>
<p>åœ¨webpack.config.jsæ–‡ä»¶ä¸­å¼•ç”¨mini</p>
<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin')
const argv = require('yargs-parser')(process.argv.slice(2))
//console.log("è¿™æ˜¯å¾—åˆ° çš„"+argv)
const _mode = argv.mode || "development";
const _mergeConfig = require(`./config/webpack.${_mode}.js`);
const merge = require('webpack-merge');
const MiniCssExtractPlugin = require("mini-css-extract-plugin");
let webpackConfig = {
    module:{
        rules: [
            {
              test: /\.css$/,
              use: [ {
                loader: MiniCssExtractPlugin.loader
              }, {
                loader: 'css-loader',
                options: {
                  modules: true,
                  localIdentName: '[path][name]__[local]--[hash:base64:5]'
                }
              } ]
            }
        ]
    },
    plugins: [
        new MiniCssExtractPlugin({
            filename: "[name].css",
            chunkFilename: "[id].css"
          }),
        new HtmlWebpackPlugin({  // Also generate a test.html
            filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
            template: 'src/index.html'//é¡µé¢è·¯å¾„
    })  
  ]
}
module.exports = merge(_mergeConfig,webpackConfig);
</code></pre>

</li>
<li>
<p>æˆ‘ä»¬å‘ç°åœ¨ï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½ç”Ÿæˆåœ¨äº†distæ–‡ä»¶å¤¹é‡Œï¼Œå¦‚æœæ—¶é—´é•¿äº†ï¼Œæ–‡ä»¶ä¼šå¾ˆå¤šï¼Œä¸æ–¹ä¾¿ç®¡ç†ï¼Œæ¥ä¸‹æ¥è¦æŠŠæ–‡ä»¶å½’ç±»ï¼Œjsæ–‡ä»¶ç”Ÿæˆåˆ°scriptsåŒ…é‡Œï¼Œcssæ–‡ä»¶ç”Ÿæˆåˆ°styleåŒ…é‡Œã€‚</p>
<ol>
<li>
<p>ä¿®æ”¹minié…ç½®ä»£ç ï¼š</p>
<pre><code>new MiniCssExtractPlugin({
    filename: "style/[name].css",//åœ¨æ–‡ä»¶åå‰åŠ ä¸Šstyleç›®å½•
    chunkFilename: "[id].css"
}),
</code></pre>

</li>
<li>
<p>webpack.development.jsä¸­æ·»åŠ é…ç½®ä»£ç ï¼š</p>
<pre><code>module.exports = {
    output:{
        filename:"scripts/[name].bundles.js"
    }
};
</code></pre>

</li>
</ol>
</li>
<li>åˆ æ‰distç›®å½•åé‡æ–°æ‰§è¡Œnpm run devï¼Œä¼šå‘ç°æ–°ç”Ÿæˆçš„distç›®å½•ä¸‹å¤šäº†ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šscriptså’Œstyleï¼Œé‡Œé¢æœ‰å¯¹åº”çš„jså’Œcssæ–‡ä»¶ã€‚</li>
<li>
<p>é…ç½®ä¸Šçº¿ç¯å¢ƒï¼Œæ‰“hashï¼š</p>
<ol>
<li>
<p>ä¿®æ”¹minié…ç½®ä»£ç ï¼š</p>
<pre><code>const HtmlWebpackPlugin = require('html-webpack-plugin')
const argv = require('yargs-parser')(process.argv.slice(2))
//console.log("è¿™æ˜¯å¾—åˆ° çš„"+argv)
const _mode = argv.mode || "development";
const _prodMode = (_mode == "production" ? true:false);
const _mergeConfig = require(`./config/webpack.${_mode}.js`);
const merge = require('webpack-merge');
const MiniCssExtractPlugin = require("mini-css-extract-plugin");
let webpackConfig = {
    module:{
        rules: [
            {
              test: /\.css$/,
              use: [ {
                loader: MiniCssExtractPlugin.loader
              }, {
                loader: 'css-loader',
                options: {
                  modules: true,
                  localIdentName: '[path][name]__[local]--[hash:base64:5]'
                }
              } ]
            }
        ]
    },
    plugins: [
        new MiniCssExtractPlugin({
            filename: _prodMode ? "styles/[name].[contenthash:5].css":"styles/[name].css",
            chunkFilename: _prodMode ? "styles/[id].[contenthash:5].css":"styles/[id].css"
        }),
        new HtmlWebpackPlugin({  // Also generate a test.html
            filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
            template: 'src/index.html'//é¡µé¢è·¯å¾„
    })  
  ]
}
module.exports = merge(_mergeConfig,webpackConfig);
</code></pre>

</li>
<li>
<p>webpack.production.js</p>
<pre><code>output: {
    filename: "scripts/[name].[contenthash:5].bundles.js"
},
</code></pre>

</li>
</ol>
</li>
<li>è¿™æ—¶ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œjså‹ç¼©äº†ï¼Œä½†æ˜¯htmlå’Œcsså¹¶æ²¡æœ‰å‹ç¼©ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å‹ç¼©htmlå’Œcssã€‚</li>
<li>
<p>åœ¨webpack.config.jsæ–‡ä»¶ä¸­çš„pluginså­—æ®µä¸­æ·»åŠ html-webpackçš„é…ç½®ï¼Œè¿è¡Œå°±ä¼šçœ‹åˆ°htmlæ–‡ä»¶å·²ç»è¢«å‹ç¼©</p>
<pre><code>    new HtmlWebpackPlugin({  // Also generate a test.html
    filename: 'index.html',//é»˜è®¤ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆåˆ°disté‡Œ
    template: 'src/index.html',//é¡µé¢è·¯å¾„
    minify:{
        removeComments:_prodMode,
        collapseWhitespace:_prodMode
    }
</code></pre>

<p>}) </p>
</li>
<li>
<p>å®‰è£…webpack-dev-serverï¼Œå®ƒæ˜¯ç”¨æ¥å¯åŠ¨ä¸€ä¸ªåå°æœåŠ¡å™¨çš„ï¼Œå¯ä»¥æ¨¡æ‹Ÿåå°æ¥å£æ•°æ®ï¼Œå¹¶è¿›è¡Œæ—¶æ—¶ç›‘å¬ï¼Œåªè¦ä»£ç ä¿®æ”¹ï¼Œå°±ä¼šåˆ·æ–°æœåŠ¡ï¼š</p>
<pre><code>npm install webpack-dev-server --save-dev
</code></pre>

</li>
<li>
<p>é…ç½®package.jsonï¼Œå°†dev-serveré…ç½®åˆ°æ–‡ä»¶ä¸­ã€‚</p>
<pre><code>"scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "dev": "webpack --mode development",
    "dev:server":"webpack-dev-server --mode development",
    "prod": "webpack --mode production"
},
</code></pre>

</li>
<li>
<p>é…ç½®webpack.confing.js</p>
<pre><code>devServer: {
    before(app) {
        app.get("/api/test", (req, res) =&gt; {
            res.json({
                code: 200,
                message: "Hello World"
            });
        });
    }
},
</code></pre>

</li>
<li>è¿è¡Œnpm run dev:serverå°±ä¼šå¯åŠ¨ä¸€ä¸ªç«¯å£æœåŠ¡ï¼Œæ¯”å¦‚ï¼šlocalhost:8080,è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—®æˆ‘ä»¬è®¾ç½®å¥½çš„åœ°å€ï¼Œä¹Ÿå¯ä»¥åœ¨åé¢åŠ ä¸Šæˆ‘ä»¬å†™å¥½çš„è·¯ç”±ï¼š/api/testï¼ŒæŸ¥çœ‹è¿”å›çš„jsonæ•°æ®ã€‚</li>
<li>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨syncä¸‹çš„index.jsä¸­è¯·æ±‚è¿™ä¸ªæ¥å£ï¼Œç”¨æ¥è¿›è¡Œæµ‹è¯•äº†ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†åå°ç»™æˆ‘ä»¬çš„æ¥å£æ•°æ®æŒ‰è¯·æ±‚å’Œè§£æçš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚</p>
<pre><code>    import css from "./sync.css";
    document.getElementById("app").innerHTML=`&lt;h1 class = "${css.test}"&gt;ä½ å¦¹çš„å‘€&lt;/h1&gt;`;
    const sync = () =&gt;{
       console.log("sync");
        fetch("/api/test")
        .then(response=&gt;response.json())
        .then(data=&gt;{
            console.log("fethcç»“æœ:"+data.message);
            console.log("æ›´æ–°ï¼Ÿ");
        })
        .catch(err=&gt;{
            console.log("ğŸè¯·ç¨äº‹ä¼‘æ¯~");
            //å‘çŸ­ä¿¡,æ”¶é›†é”™è¯¯
            //navigator.sendBeacon("http://www.aa.com/a.gif?errinfo="+err);
        });
    }
    export {
        sync
    }
</code></pre>

</li>
<li>
<p>componentsç›®å½•ä¸‹åˆ›å»ºbanneræ–‡ä»¶å¤¹ï¼Œé‡Œé¢åˆ›å»ºindex.js,å¹¶ç¼–å†™ä»£ç ï¼š</p>
<pre><code>    const asyncbanner = {
        init(){
            console.log("banner");
        }
    }
    export default asyncbanner;
</code></pre>

</li>
<li>
<p>åœ¨srcç›®å½•ä¸‹çš„index.jsä¸»æ–‡ä»¶ä¸­å¯¼å…¥è¿™ä¸ªjsæ–‡ä»¶ã€‚</p>
<pre><code>import {sync} from "./components/sync/index";
//ä¸‹é¢è¿™è¡Œä»£ç ä½¿ç”¨äº†é­”æ³•æ³¨é‡Šï¼Œå¦‚æœä¸ä½¿ç”¨é­”æ³•æ³¨é‡Šï¼Œä¼šå‘ç°åœ¨distç›®å½•ä¸‹ç”Ÿæˆçš„jsæ–‡ä»¶åéƒ½æ˜¯ä»0å¼€å§‹çš„ï¼Œä¸æ–¹ä¾¿è¯†åˆ«ã€‚
import(/* webpackChunkName:"async-banner" */"./components/banner/index").then(_=&gt;{
    _.default.init();
});
sync();
</code></pre>

</li>
<li>
<p>ä¸è¦ç”¨åŸç”Ÿçš„lodash,å®‰è£…lodash-es:</p>
<pre><code>npm install lodash-es --save-dev
</code></pre>

</li>
<li>
<p>å¦‚æœä¸è£…lodashï¼Œä¼šæœ‰ä¸€äº›æ²¡ç”¨çš„ä»£ç æ‰“åŒ…è¿›é¡¹ç›®.</p>
<pre><code>import css from "./sync.css";
import {isArray} from "lodash-es";
const isArrayfn = (agrs)=&gt;{
    console.log(isArray(agrs));
}
document.getElementById("app").innerHTML=`&lt;h1 class = "${css.test}"&gt;ä½ å¦¹çš„å‘€&lt;/h1&gt;`;
const sync = () =&gt;{
    console.log("sync");
    fetch("/api/test")
    .then(response=&gt;response.json())
    .then(data=&gt;{
        console.log("fethcç»“æœ:"+data.message);
        console.log("æ›´æ–°ï¼Ÿ");
    })
    .catch(err=&gt;{
        console.log("å˜Ÿå˜Ÿå˜Ÿã€‚ã€‚ã€‚è¯·ç¨å€™");
        navigator.sendBeacon("è¿œç¨‹é”™è¯¯åœ°å€"+err);
    });
}
export {
    sync,
    isArrayfn
}
</code></pre>

</li>
</ol>
<h2>æ³¨æ„ç‚¹ï¼š</h2>
<ol>
<li>package.jsonæ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€äº›å…³é”®å­—ä¸èƒ½ä¹±åŠ¨ï¼Œå¦‚æœä¹±æ”¹ï¼Œä¼šå‡ºç°éº»çƒ¦ã€‚è¿™äº›å…³é”®å­—ï¼ˆä¾‹å¦‚testï¼‰å¯ä»¥ä½¿ç”¨npm testç›´æ¥è¿è¡Œï¼Œå…¶å®ƒè‡ªå®šä¹‰çš„éœ€è¦ä½¿ç”¨npm run è‡ªå®šä¹‰çš„åå­—    è¿è¡Œã€‚
æˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥npmå‘½ä»¤æŸ¥çœ‹éƒ½æœ‰å“ªäº›å…³é”®å­—</li>
<li>ç°åœ¨å‘åå°å‘è¯·æ±‚ï¼Œå·²ç»ä¸å†ç”¨ajaxäº†ï¼Œè€Œæ˜¯ç”¨fatch("è¦è¯·æ±‚çš„åœ°å€")å’Œnavigator.sendBeacon("è¯·æ±‚åœ°å€")ã€‚å¦‚æœæ˜¯åšç»Ÿè®¡çš„æ—¶å€™ï¼Œå°±ç”¨navigator.sendBeacon("")ï¼Œå®ƒä¸å æµè§ˆå™¨çš„å¹¶å‘ã€‚</li>
</ol>



<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
</body></html>