<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0073)file:///C:/Users/Administrator/AppData/Local/Temp/MarkdownPadPreview.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>æ¶æ„å¸ˆå¯è’™è¯¾ç¬¬äºŒè®²</title>

<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
<!--<base href="file:\\\C:\Users\Administrator\Desktop\">--><base href=".">
</head>
<body>
<h1>æ¶æ¡†å¸ˆå¯è’™è¯¾ç¬¬äºŒè®²(è·Ÿç¬¬ä¸€èŠ‚è¿æ¥ç€çš„)</h1>
<h2>æ­å»ºç¯å¢ƒè¿‡ç¨‹ï¼š</h2>
<ol>
<li>
<p>å‹ç¼©css</p>
<ol>
<li>
<p>å®‰è£…optimize-css-assets-webpack-plugin</p>
<pre><code>npm install --save-dev optimize-css-assets-webpack-plugin
</code></pre>

</li>
<li>
<p>åœ¨configç›®å½•ä¸‹çš„webpack.production.jsä¸­æ’å…¥ä»£ç ï¼š</p>
<pre><code>const OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');
module.exports = {
    output: {
        filename: "scripts/[name].[contenthash:5].bundles.js",
        //å…¬å¸çš„Cdn
        publicPath: "/"
    },
    plugins: [
        new OptimizeCssAssetsPlugin({
            assetNameRegExp: /\.css$/g,
            cssProcessor: require('cssnano'),
            cssProcessorPluginOptions: {
                preset: ['default', {
                    discardComments: {
                        removeAll: true
                    }
                }],
            },
            canPrint: true
        })
    ]
};
</code></pre>

</li>
<li>
<p>æ‰§è¡Œnpm run prodå‘½ä»¤ï¼Œåœ¨ç”Ÿæˆçš„distç›®å½•ä¸­å°±ä¼šçœ‹åˆ°cssæ–‡ä»¶å·²ç»è¢«å‹ç¼©ã€‚</p>
</li>
</ol>
</li>
<li>
<p>è¿™æ—¶å€™çš„é¡¹ç›®åŸºæœ¬ä¸Šç®—æ˜¯å¯ä»¥äº†ï¼Œä½†æ˜¯å‘ç°å¦‚æœä¿®æ”¹cssï¼Œjsä¹Ÿä¼šè·Ÿç€å˜ï¼Œä¿®æ”¹jsï¼Œcssä¹Ÿä¼šè·Ÿç€å˜ï¼Œè¿™æ˜¯å¾ˆéƒé—·çš„äº‹æƒ…ï¼Œéœ€è¦ä¼˜åŒ–ä¸€ä¸‹é¡¹ç›®ã€‚ä¼˜åŒ–æ–¹æ³•å°±æ˜¯åœ¨ç»™æ–‡ä»¶åæ‰“hashçš„æ—¶å€™ï¼Œä½¿ç”¨contenthashï¼Œè€Œä¸ä½¿ç”¨hashæˆ–è€…chunkhashã€‚</p>
</li>
<li>
<p>ä¼˜åŒ–ç»ˆç«¯çª—å£ã€‚</p>
<ol>
<li>
<p>å®‰è£…webpack-build-notifier</p>
<pre><code>npm install webpack-build-notifier --save-dev
</code></pre>

</li>
<li>
<p>åœ¨webpack.config.jsä¸­å¼•å…¥webpack-build-notifieræ¨¡å—ï¼Œå’Œpathæ¨¡å—ï¼ˆå› ä¸ºè‡ªå®šä¹‰å›¾ç‰‡éœ€è¦ç”¨åˆ°å›¾ç‰‡è·¯å¾„ï¼‰</p>
<pre><code>const WebpackBuildNotifierPlugin = require('webpack-build-notifier');
const {resolve} = require("path");

plugins:[
    new WebpackBuildNotifierPlugin({
        title: "webpackæ‰§è¡Œç»“æœ",
        logo: resolve("./yuyu.png"),
        suppressSuccess: true
    })
]
</code></pre>

</li>
<li>
<p>è¿™æ—¶å€™æ‰§è¡Œnpm run prodï¼Œå½“æ‰§è¡Œå®Œæ¯•åå°±ä¼šçœ‹åˆ°å±å¹•å³ä¸Šè§’å¼¹å‡ºæ‰§è¡Œç»“æœæç¤ºï¼ˆå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘ä¸çŸ¥é“æ‰§è¡Œç»“æœï¼‰</p>
</li>
<li>
<p>è‡ªå®šä¹‰ç»ˆç«¯çª—å£æ ‡é¢˜titleï¼Œå®‰è£…node-bash-title</p>
<pre><code>npm install node-bash-title --save-dev
</code></pre>

</li>
<li>
<p>åœ¨webpack.config.jsä¸­ä½¿ç”¨:</p>
<pre><code>  const setTitle = require('node-bash-title');
    setTitle('ğŸ»  Server');
</code></pre>

</li>
<li>
<p>æ ‡é¢˜è¶…å¤§èƒŒæ™¯åŒ–ï¼š å®‰è£…set-iterm2-badge</p>
<pre><code>npm install set-iterm2-badge --save-dev

var setIterm2Badge = require('set-iterm2-badge');
setIterm2Badge("è¿™æ˜¯æˆ‘çš„è¶…å¤§æ ‡é¢˜");
</code></pre>

</li>
</ol>
</li>
<li>
<p>æ·»åŠ è¿›åº¦æ¡</p>
<ol>
<li>
<p>å®‰è£…progress-bar-webpack-plugin</p>
<pre><code>npm i -D progress-bar-webpack-plugin
</code></pre>

</li>
<li>
<p>ä½¿ç”¨ï¼š</p>
<pre><code>var ProgressBarPlugin = require('progress-bar-webpack-plugin');

...

plugins: [
  new ProgressBarPlugin()
]
</code></pre>

</li>
</ol>
</li>
<li>
<p>æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶ç¼–è¾‘è€—æ—¶ï¼š</p>
<ol>
<li>
<p>å®‰è£…ï¼šspeed-measure-webpack-plugin</p>
<pre><code>npm install speed-measure-webpack-plugin --save-dev
</code></pre>

</li>
<li>
<p>ä»£ç å¼•å…¥ï¼š</p>
<pre><code>const SpeedMeasurePlugin = require("speed-measure-webpack-plugin"); 
const smp = new SpeedMeasurePlugin();
const webpackConfig = smp.wrap({//ä¸»è¦æ˜¯è¿™é‡Œï¼Œæ„æ€æ˜¯å°†æœ€åå¼€æ”¾å‡ºå»çš„æ•°æ®å¤–é¢å†åŒ…ä¸€å±‚
  plugins: [
    new MyPlugin(),
    new MyOtherPlugin()
  ]
});
</code></pre>

</li>
</ol>
</li>
<li>
<p>è‡ªåŠ¨åˆ é™¤distç›®å½•ï¼š</p>
<ol>
<li>
<p>å®‰è£…clean-webpack-plugin</p>
<pre><code>npm i clean-webpack-plugin --save-dev
</code></pre>

</li>
<li>
<p>ä»£ç å¼•ç”¨</p>
<pre><code>const CleanWebpackPlugin = require('clean-webpack-plugin')

// webpack config
{
  plugins: [
    new CleanWebpackPlugin(paths [, {options}])
  ]
}
</code></pre>

</li>
</ol>
</li>
<li>
<p>æ·»åŠ loadingæ ·å¼ï¼š</p>
<ol>
<li>
<p>webpack.config.jsé…ç½®;</p>
<pre><code> new HtmlWebpackPlugin({
    filename: 'index.html',
    template: 'src/index.html',
    //template: 'src/index.js',
    loading:"åŠ è½½ä¸­ï¼Œè¯·ç¨ç­‰...",
    minify: {
        removeComments: _modeflag,
        collapseWhitespace: _modeflag
    }
}),
</code></pre>

</li>
<li>
<p>index.htmlé¡µé¢å¼•å…¥:</p>
<pre><code>&lt;%= htmlWebpackPlugin.options.loading.html %&gt;
</code></pre>

</li>
<li>
<p>è¿™æ—¶éœ€è¦è¿›å…¥åˆ°distç›®å½•ï¼Œå¹¶ä¸”å¼€å¯ä¸€ä¸ªæœåŠ¡ï¼šhttp-serverï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæœåŠ¡éœ€è¦å…ˆå®‰è£…ï¼š</p>
<pre><code>npm install http-server --save-dev
</code></pre>

</li>
</ol>
</li>
<li>
<p>æŠ½å–å…¬å…±jséƒ¨åˆ†ï¼š</p>
<pre><code>    webpack.config.jsé…ç½®

    optimization: {
        noEmitOnErrors: false,
        //namedChunks
        //moduleIds
        splitChunks: {
            cacheGroups: {
                commons: {
                    chunks: 'initial',
                    name: "common",
                    minChunks: 2,
                    maxInitialRequests: 5,
                    minSize: 0
                }
            }
        },
        runtimeChunk: {
            name: "runtime"
        }
    },
    plugins: [

    ]
</code></pre>

</li>
<li>
<p>åŠ è½½å…¬å…±jsï¼š</p>
<ol>
<li>
<p>åœ¨componentsç›®å½•ä¸‹åˆ›å»ºcommonç›®å½•åšä¸ºå…¬å…±jsç›®å½•ï¼Œé‡Œé¢åˆ›å»ºcommons.jsï¼Œåœ¨è¿™é‡Œå¯ä»¥å†™ä½ æƒ³å†™çš„ä»»ä½•ä»£ç ã€‚ï¼ˆè®°å¾—å¯¹å¤–æš´éœ²æ¥å£ï¼‰</p>
<pre><code>function help(){};
help.version = "0.0.1";
export default help;
</code></pre>

</li>
<li>
<p>åœ¨syncç›®å½•ä¸­çš„jsä¸­å¼•ç”¨</p>
<pre><code>import help from "../common/index.js";
console.log(help.version);
</code></pre>

</li>
<li>
<p>è¿™æ—¶å€™åœ¨é‡æ–°æ‰§è¡Œç¼–è¾‘ï¼Œä¼šçœ‹åˆ°consoleä¸­å·²ç»æ‰“å°å‡ºäº†help.versionã€‚ä½†æ˜¯åœ¨dist/scriptsä¸­å¹¶æ²¡æœ‰ç”Ÿæˆcommon.jsï¼Œè¿™æ˜¯å› ä¸ºwebpackæœ‰ä¸ªæœºåˆ¶ï¼Œæ˜¯å½“jsæ–‡ä»¶å°äº30kçš„æ—¶å€™æ˜¯ä¸ä¼šå•ç‹¬æ‰“åŒ…çš„ï¼Œå› ä¸ºæµªè´¹è¯·æ±‚ï¼Œå¦‚æœéœ€è¦å¼ºè¡Œæ‰“åŒ…ï¼Œéœ€è¦åœ¨ä»£ç é‡Œé¢é…ç½®ã€‚</p>
<pre><code>optimization: {
    noEmitOnErrors: false,
    //namedChunks
    //moduleIds
    splitChunks: {
        cacheGroups: {
            commons: {
                chunks: 'initial',
                name: "common",
                minChunks: 2,//å°†è¿™ä¸ªå­—æ®µæ”¹æˆ1å°±æ˜¯å¼ºåˆ¶æ‰“å°å‡ºjsæ–‡ä»¶ï¼Œä½†æ˜¯ä¸€èˆ¬å†™æˆ2
                maxInitialRequests: 5,
                minSize: 0
            }
        }
    },
    runtimeChunk: {
        name: "runtime"
    }
},
</code></pre>

</li>
</ol>
</li>
<li>
<p>å‹ç¼©å¤„ç†å›¾ç‰‡ï¼š</p>
<ol>
<li>
<p>å®‰è£…image-webpack-loader</p>
<p>npm install image-webpack-loader --save-dev</p>
</li>
<li>
<p>webpack.config.jså¼•ç”¨:</p>
<pre><code>module: {
    rules: [{
        test: /\.(gif|png|jpe?g|svg)$/i,
        use: [
            'file-loader',
            {
                loader: 'image-webpack-loader',
                options: {
                    pngquant: {
                        quality: '65-90',
                        speed: 4
                    }
                }
            },
        ],
    }
},
</code></pre>

</li>
</ol>
</li>
<li>åˆ°è¿™é‡Œï¼Œå•é¡µçš„é…ç½®åŸºæœ¬ä¸Šç®—æ˜¯å·²ç»å®Œæˆäº†ã€‚</li>
</ol>
<h2>æŠ€æœ¯é€‰å‹ï¼š</h2>
<ol>
<li>å•é¡µ åº”ç”¨çš„åœºæ™¯ å†…éƒ¨ç³»ç»Ÿ ç§»åŠ¨ç«¯ ä¸‰å¤§æ¡†æ¶</li>
<li>å•é¡µçš„è·¯ç”± ä¸¤ç§ pushstate hash a/b #/a/b  vue-router history </li>
<li>jq ä¸‰å¤§æ¡†æ¶ å¾®å‰ç«¯</li>
<li>è¿è¥é¡µé¢ jq å¿«ä¸€ç‚¹ vue react</li>
<li>å¤§å‹çš„å•é¡µ ng </li>
<li>å„ç§å„æ ·çš„cli </li>
</ol>
<h2>æ³¨æ„ç‚¹ï¼š</h2>
<ol>
<li>hash:ä¿®æ”¹æ•´ä¸ªç½‘ç«™æ‰€æœ‰çš„æ–‡ä»¶ã€‚</li>
<li>chunkhash:ä¿®æ”¹chankä¸‹çš„æ–‡ä»¶ã€‚</li>
<li>contenthash:åœ¨chunkhashçš„åŸºç¡€ä¸Šï¼Œå°†csså’Œjså¹³è¡ŒåŒ–ï¼Œäº’ä¸å½±å“</li>
<li>åœ¨é…ç½®progress-bar-webpack-pluginè¿›åº¦æ¡çš„æ—¶å€™ï¼Œä¼šè·Ÿset-iterm2-badgeæœ‰å†²çªï¼Œéœ€è¦å°†set-iterm2-badgeæ³¨é‡Šæ‰</li>
<li>ç§»åŠ¨ç«¯å°‘å‘è¯·æ±‚ã€‚jsè¯·æ±‚å‘å¤šäº†ä¼šé˜»å¡è¿›ç¨‹</li>
</ol>



<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
</body></html>